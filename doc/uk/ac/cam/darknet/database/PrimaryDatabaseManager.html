<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Thu Feb 13 11:45:50 GMT 2014 -->
<title>PrimaryDatabaseManager</title>
<meta name="date" content="2014-02-13">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="PrimaryDatabaseManager";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PrimaryDatabaseManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../uk/ac/cam/darknet/database/DatabaseManager.html" title="class in uk.ac.cam.darknet.database"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../uk/ac/cam/darknet/database/SecondaryDatabaseManager.html" title="class in uk.ac.cam.darknet.database"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?uk/ac/cam/darknet/database/PrimaryDatabaseManager.html" target="_top">Frames</a></li>
<li><a href="PrimaryDatabaseManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">uk.ac.cam.darknet.database</div>
<h2 title="Class PrimaryDatabaseManager" class="title">Class PrimaryDatabaseManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../uk/ac/cam/darknet/database/DatabaseManager.html" title="class in uk.ac.cam.darknet.database">uk.ac.cam.darknet.database.DatabaseManager</a></li>
<li>
<ul class="inheritance">
<li>uk.ac.cam.darknet.database.PrimaryDatabaseManager</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">PrimaryDatabaseManager</span>
extends <a href="../../../../../uk/ac/cam/darknet/database/DatabaseManager.html" title="class in uk.ac.cam.darknet.database">DatabaseManager</a></pre>
<div class="block">A primary database manager is used to store individuals that are created by primary data
 collectors.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Ibtehaj Nadeem</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../uk/ac/cam/darknet/database/PrimaryDatabaseManager.html#PrimaryDatabaseManager(java.util.Hashtable, java.lang.String)">PrimaryDatabaseManager</a></strong>(java.util.Hashtable&lt;java.lang.String,<a href="../../../../../uk/ac/cam/darknet/common/AttributeCategories.html" title="enum in uk.ac.cam.darknet.common">AttributeCategories</a>&gt;&nbsp;globalAttributeTable,
                      java.lang.String&nbsp;pathToConfig)</code>
<div class="block">Creates a new <code>PrimaryDatabaseManager</code> with the specified global attribute table
 and sets up the connection to the database.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../uk/ac/cam/darknet/database/PrimaryDatabaseManager.html#deleteIndividual(long)">deleteIndividual</a></strong>(long&nbsp;id)</code>
<div class="block">Deletes the individual specified by the given ID.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../uk/ac/cam/darknet/database/PrimaryDatabaseManager.html#main(java.lang.String[])">main</a></strong>(java.lang.String[]&nbsp;args)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../uk/ac/cam/darknet/database/PrimaryDatabaseManager.html#storeIndividual(uk.ac.cam.darknet.common.Individual)">storeIndividual</a></strong>(<a href="../../../../../uk/ac/cam/darknet/common/Individual.html" title="class in uk.ac.cam.darknet.common">Individual</a>&nbsp;individual)</code>
<div class="block">Stores a single individual into the database.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../uk/ac/cam/darknet/database/PrimaryDatabaseManager.html#storeIndividual(java.util.List)">storeIndividual</a></strong>(java.util.List&lt;<a href="../../../../../uk/ac/cam/darknet/common/Individual.html" title="class in uk.ac.cam.darknet.common">Individual</a>&gt;&nbsp;list)</code>
<div class="block">Stores a list of individuals into the database.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../uk/ac/cam/darknet/database/PrimaryDatabaseManager.html#updateIndividual(long, uk.ac.cam.darknet.common.Individual)">updateIndividual</a></strong>(long&nbsp;id,
                <a href="../../../../../uk/ac/cam/darknet/common/Individual.html" title="class in uk.ac.cam.darknet.common">Individual</a>&nbsp;newData)</code>
<div class="block">Updates the data associated with an individual specified by their ID.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_uk.ac.cam.darknet.database.DatabaseManager">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;uk.ac.cam.darknet.database.<a href="../../../../../uk/ac/cam/darknet/database/DatabaseManager.html" title="class in uk.ac.cam.darknet.database">DatabaseManager</a></h3>
<code><a href="../../../../../uk/ac/cam/darknet/database/DatabaseManager.html#getAllIndividuals()">getAllIndividuals</a>, <a href="../../../../../uk/ac/cam/darknet/database/DatabaseManager.html#getByEmail(java.lang.String)">getByEmail</a>, <a href="../../../../../uk/ac/cam/darknet/database/DatabaseManager.html#getByEventDate(java.util.Date)">getByEventDate</a>, <a href="../../../../../uk/ac/cam/darknet/database/DatabaseManager.html#getByFirstName(java.lang.String)">getByFirstName</a>, <a href="../../../../../uk/ac/cam/darknet/database/DatabaseManager.html#getById(long)">getById</a>, <a href="../../../../../uk/ac/cam/darknet/database/DatabaseManager.html#getByLastName(java.lang.String)">getByLastName</a>, <a href="../../../../../uk/ac/cam/darknet/database/DatabaseManager.html#getBySeat(java.lang.String)">getBySeat</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="PrimaryDatabaseManager(java.util.Hashtable, java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PrimaryDatabaseManager</h4>
<pre>public&nbsp;PrimaryDatabaseManager(java.util.Hashtable&lt;java.lang.String,<a href="../../../../../uk/ac/cam/darknet/common/AttributeCategories.html" title="enum in uk.ac.cam.darknet.common">AttributeCategories</a>&gt;&nbsp;globalAttributeTable,
                      java.lang.String&nbsp;pathToConfig)
                       throws <a href="../../../../../uk/ac/cam/darknet/exceptions/ConfigFileNotFoundException.html" title="class in uk.ac.cam.darknet.exceptions">ConfigFileNotFoundException</a>,
                              java.io.IOException,
                              java.lang.ClassNotFoundException,
                              java.sql.SQLException</pre>
<div class="block">Creates a new <code>PrimaryDatabaseManager</code> with the specified global attribute table
 and sets up the connection to the database.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>globalAttributeTable</code> - The global table of attributes currently supported by the system. These attributes
            are used to generate the table names in the database and have to be consistent
            between successive executions of the system.</dd><dd><code>pathToConfig</code> - The path to the file containing information about how to connect to the database
            server.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../uk/ac/cam/darknet/exceptions/ConfigFileNotFoundException.html" title="class in uk.ac.cam.darknet.exceptions">ConfigFileNotFoundException</a></code></dd>
<dd><code>java.io.IOException</code></dd>
<dd><code>java.lang.ClassNotFoundException</code></dd>
<dd><code>java.sql.SQLException</code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="storeIndividual(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>storeIndividual</h4>
<pre>public&nbsp;int&nbsp;storeIndividual(java.util.List&lt;<a href="../../../../../uk/ac/cam/darknet/common/Individual.html" title="class in uk.ac.cam.darknet.common">Individual</a>&gt;&nbsp;list)
                    throws java.sql.SQLException</pre>
<div class="block">Stores a list of individuals into the database. If the number of individuals is large, this
 is the preferred method. Inserting individuals one after the other is less efficient.
 
 <b>Note:</b> This method will discard any individuals with invalid fields. This includes
 empty (or null) first and/or last names and malformed email addresses. A count of the number
 of individuals inserted will be given. In case of any other serious SQL error, all changes
 will be rolled back.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>list</code> - The list of individuals to store.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The number of individuals successfully inserted.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd></dl>
</li>
</ul>
<a name="storeIndividual(uk.ac.cam.darknet.common.Individual)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>storeIndividual</h4>
<pre>public&nbsp;boolean&nbsp;storeIndividual(<a href="../../../../../uk/ac/cam/darknet/common/Individual.html" title="class in uk.ac.cam.darknet.common">Individual</a>&nbsp;individual)
                        throws java.sql.SQLException</pre>
<div class="block">Stores a single individual into the database.
 
 <b>Note:</b> This method will discard the individual if it has invalid fields. This includes
 empty (or null) first and/or last name and malformed email address. A boolean value will be
 returned, indicating whether the insertion was successful. In case of any other serious SQL
 error, all changes will be rolled back.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>individual</code> - The individual to insert.</dd>
<dt><span class="strong">Returns:</span></dt><dd>True if the individual was inserted successfully, false otherwise.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd></dl>
</li>
</ul>
<a name="deleteIndividual(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteIndividual</h4>
<pre>public&nbsp;void&nbsp;deleteIndividual(long&nbsp;id)
                      throws java.sql.SQLException</pre>
<div class="block">Deletes the individual specified by the given ID.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>id</code> - The ID of the individual to delete.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd></dl>
</li>
</ul>
<a name="updateIndividual(long, uk.ac.cam.darknet.common.Individual)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateIndividual</h4>
<pre>public&nbsp;boolean&nbsp;updateIndividual(long&nbsp;id,
                       <a href="../../../../../uk/ac/cam/darknet/common/Individual.html" title="class in uk.ac.cam.darknet.common">Individual</a>&nbsp;newData)
                         throws java.sql.SQLException</pre>
<div class="block">Updates the data associated with an individual specified by their ID. The new data itself
 must be passed as an <code>Individual</code> object.
 
 <b>Note:</b> This method will discard the new data if it has invalid fields. This includes
 empty (or null) first and/or last name and malformed email address. A boolean value will be
 returned, indicating whether the update was successful. In case of any other serious SQL
 error, all changes will be rolled back.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>id</code> - The ID of the individual to update.</dd><dd><code>newData</code> - The new data to be written to that individual.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A boolean indicating whether the update was successful or not.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd></dl>
</li>
</ul>
<a name="main(java.lang.String[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(java.lang.String[]&nbsp;args)
                 throws java.lang.ClassNotFoundException,
                        <a href="../../../../../uk/ac/cam/darknet/exceptions/ConfigFileNotFoundException.html" title="class in uk.ac.cam.darknet.exceptions">ConfigFileNotFoundException</a>,
                        java.io.IOException,
                        java.sql.SQLException</pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.ClassNotFoundException</code></dd>
<dd><code><a href="../../../../../uk/ac/cam/darknet/exceptions/ConfigFileNotFoundException.html" title="class in uk.ac.cam.darknet.exceptions">ConfigFileNotFoundException</a></code></dd>
<dd><code>java.io.IOException</code></dd>
<dd><code>java.sql.SQLException</code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PrimaryDatabaseManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../uk/ac/cam/darknet/database/DatabaseManager.html" title="class in uk.ac.cam.darknet.database"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../uk/ac/cam/darknet/database/SecondaryDatabaseManager.html" title="class in uk.ac.cam.darknet.database"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?uk/ac/cam/darknet/database/PrimaryDatabaseManager.html" target="_top">Frames</a></li>
<li><a href="PrimaryDatabaseManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
